<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width">
    </head>
    <body>
		<script>
			alert("ido");
			navigator.camera.getPicture(onPhotoUriSuccess, onFailCamera, { quality: 50,
			destinationType: pictDestinationType.FILE_URI });
			
			function onPhotoUriSuccess(imageUriToUpload) {
			alert("ido2");
				var url=encodeURI("http://your_url_for_the_post/");

				var username='your_user';
				var password='your_pwd';

				var params = new Object();
				params.your_param_name = "something";  //you can send additional info with the file

				var options = new FileUploadOptions();
				//options.fileKey = "the_name_of_the_image_field"; //depends on the api
				options.fileName = imageUriToUpload.substr(imageUriToUpload.lastIndexOf('/')+1);
				options.mimeType = "image/jpeg";
				//options.params = params;
				options.chunkedMode = true; //this is important to send both data and files

				//var headers={'Authorization':"Basic " + Base64.encode(username + ":" + password)};
				//options.headers = headers;

				var ft = new FileTransfer();
				ft.upload(imageUriToUpload, url, succesFileTransfer, errorFileTransfer, options);

		}
		function onPhotoUriSuccess() {
			alert("o");
		}
		function imageUriToUpload() {
			alert("i");
		}
		function succesFileTransfer() {
			alert("s");
		} 
		function errorFileTransfer() {
			alert("e");
		}
		
		</script>
		
		
    </body>
</html>
